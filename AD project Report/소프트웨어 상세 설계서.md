ADgame 기능 구현 클래스

class unit : 게임에서 자주 사용하게될 사각형의 부모코드, 대표적인 특성만을 가지고 있다(사이즈, 기본색)

 

이 게임에 나오는 객체들을 특정해주는 class들 

·     class Myunit:

나 자신을 만들어주는 클라스로 나의 체력, 내 점수, 블록의 색깔, 나의 아이템을 저장할 리스트, 내가 쏜 총알 들을 관리할 리스트가 필요하다. 

·     class Subunit:

​      아이템중 파란색 아이템을 먹었을 때 생기는 작은 박스를 만들어주는 클라스로 사이즈와     색을 지정한다. 이 클라스는 unit 클라스를 상속하지 않고 직접 만든다.(사이즈 색이 모두   다르다)

·     calss Item:

아이템을 생성해주는 클라스, 색깔에따라 랜덤으로 아이템을 만들어 줄수 있게끔.

·     class Enemy:

​      적을 만들어 주는 클라스 색깔만 지정해주면 된다

·     class Boss

​      게임 중간에 나오는 보스를 만들어주는 클라스, 이또한 색깔과 사이즈가 모두 다르기 때문   에 상속을 받지 않으며 보스의 체력은 200으로 고정.

게임 플레이 class playgame

·     def______init______:

​      게임을 만들때 필요한 리스트, 객체 등을 선언해준다

·     def game:

​      게임을 원활하게 돌리기위한 쓰레드를 지정해준다. 또한 플레이어의 객체인 myunit의 시     작점을 지정해준다.

·     def createEnemy:

​      적들을 생성해주는 함수, 보스가 있을때와 없을때로 나누어주며 보스가 나타나는 시간을       지정해준다. 보스가 있을때는 일반 적들은 나오면 안되기 때문에 일반 적들은 보스가 나오   고나면 생성되지 않게 해준다. 또 적들을 생설할때 위치를 랜덤으로 만들어주어야 하기 때   문에 setRect(x,0,size, size) 를 사용하여 x는 랜덤으로 만들고 맨위에서 생성될 수 있도록     한다.

·     def moveEnemy:

생성된 적들이 움직일 수 있도록 만들어주는 함수, 각각의 적들을 리스트에 담아 만약 myunit 이 쏘는 총알이나 나에게 맞으면 적이 사라지게, 아니면 전진할수 있게한다. 적이 나에게 맞았을때는(rect. Intersect 사용하자) 저장해놨던 hp를 1씩 깎을 수 있게 한다. 또한 보스가 나왔을     때는 화면에 있는 모든 적들이 사라져야 함으로 if boss == True 일때 clear 을 이용하여    모든 적들을 지워준다.

그리고 보스가 맵의 처음에서 출발하여 일정한 위치에서 멈출 수 있게끔 만들어준다.

·     def movebullet:

총알을 움직이게 하는 함수, 위의 적과 마찬가지의 방법으로 만약 총알이 적에 맞았으면 정지후 삭제, 아니면 한칸씩 이동을 아까 총알을 생성해서 넣어둔 리스트를 돌면서 반복 수행한다. 하지만 아이템을 먹었을 때는 일반적인 방법이 아닌 다른 모습으로 총알이 나가기 때문에 따로따로 구현해줘야 될거 같다. 또한 총알이 적에 맞을때마나 score+1을 해주어서 점수를 구현해야한다

\1.   일반 총알은 적에 맞지 않았을 때 앞으로 10 픽셀 이동, 만약 맞았다면 삭제.

\2.   하얀색 블록을 먹었을 때 생기는 나와 같은모양의 객체의 총알은 나의 총알 리스트와 같은 리스트를 가지면서 내가 총을 쏘면 총을 쏘고 나의 총알과 같은 방향, 같은 속도로 움직일 수 있도록.

\3.    파란색 블록을 먹었을 때 생기는 작은 파란색은 왼쪽 오른쪽 각각의 리스트를 하나씩 만들어서 두개의 총알을 원래 나의 총알과 같은 방향, 같은 속도로 발사할 수 있도록 만들어준다.

·     def moveItem:

아이템의 이동과 효과를 담당하는 함수로 만든다.

1 파란색 : 작은 총알을 쏘는 박스 두개를 만들어준다. 그 박스를 플레이어의 왼쪽과 오른쪽에 달아준다.

2 하얀색 : 플레이어 오른쪽에 플레이어와 같은 박스를 하나 만들고 플레이어가 총알을 쏠 때 똑 같은 총알을 쏘게 한다 

3 자주색 : 먹으면 목숨이 1 늘어나도록 만들어준다.

여기에 아이템들은 적들을 마주치는 방법과 같은 방법으로 먹었는지 여부를 판단한다.

그리고 아이템은 먹게되면 아이템 리스트에 저장되게 되며 이 리스트에 있는 아이템 유무를 조사하고( 자주색은 개수) 각각의 효과를 발현할 수 있도록 한다.

또한 파란색을 먹으면 (리스트의 아이템 == True)일 때 객체의 왼쪽과 오른쪽에 작은 사각형을 만들어 좌표를 (내 x값 – 작은상자의 길이, 내 y값)(내 x값 + 작은상자의 길이) 이렇게 해서 양옆에 붙혀주고 같이 움직일 수 있도록 해준다. 하얀색을 먹으면 나의 오른쪽에 나와 같은 모양의 나와 같은 모양의 상자를 달아야 함으로 (내 x값 + 나의 길이, y 값) 으로서 같이 움직이게 만들어준다.

·     def draw(qp):

앞에서 그린 객체들이나 점수, 체력, 배경등의 색을 지정, 화면에 그려주는 메쏘드. 잘 알지 못함으로 구글링 해서 구현해보자. Class Widget의 paintEvent 를 인자로 받아서 사용하자.

·     def keyDown (key):

Class Widget 의 keyPressEvent 을 인자로 받아서 사용하자. Key 는 플레이어 객체의 이동을 담당함으로 눌리는 키에따라서 움직임을 지정해준다. 또한 내 캐릭터가 게임 맵 밖으로 나갈수 없게 이동 범위를 지정해준다. 

*Class window : 인터페이스 구현 클래스*

이 클레스 에서는 Qwidget의 기능을 사용하기 위해 def ____init____ 으로 일단 QWidget 을 상속받는다. 또 def initUI 를 만들어서 기본적인 ui 를 만들어준다.

*Class main : 동작 클래스*

App = QApplication(sys.argv)를 이용하여 코드를 실행할 수 있도록 해준다.